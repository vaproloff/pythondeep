# Ð—Ð°Ð´Ð°Ð½Ð¸Ðµ No3
# ðŸ“Œ ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð´ÐµÐºÐ¾Ñ€Ð°Ñ‚Ð¾Ñ€, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ Ð² json Ñ„Ð°Ð¹Ð» Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð´ÐµÐºÐ¾Ñ€Ð¸Ñ€ÑƒÐµÐ¼Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
# Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¾Ð½Ð° Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚. ÐŸÑ€Ð¸ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¼ Ð²Ñ‹Ð·Ð¾Ð²Ðµ Ñ„Ð°Ð¹Ð» Ð´Ð¾Ð»Ð¶ÐµÐ½ Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÑ‚ÑŒÑÑ, Ð° Ð½Ðµ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°Ñ‚ÑŒÑÑ.
# ðŸ“Œ ÐšÐ°Ð¶Ð´Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ÐµÐ²Ð¾Ð¹ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ ÐºÐ°Ðº Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ json ÑÐ»Ð¾Ð²Ð°Ñ€Ñ.
# ðŸ“Œ Ð”Ð»Ñ Ð´ÐµÐºÐ¾Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð½Ð°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ ÐºÐ°Ðº Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ, Ñ‚Ð°Ðº Ð¸ ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹.
# ðŸ“Œ Ð˜Ð¼Ñ Ñ„Ð°Ð¹Ð»Ð° Ð´Ð¾Ð»Ð¶Ð½Ð¾ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°Ñ‚ÑŒ Ñ Ð¸Ð¼ÐµÐ½ÐµÐ¼ Ð´ÐµÐºÐ¾Ñ€Ð¸Ñ€ÑƒÐµÐ¼Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸.

from functools import wraps
from typing import Callable
import json
from os.path import exists


def add_param_to_json(func: Callable) -> Callable[[list, dict], int]:
    @wraps(func)
    def wrapper(*args, **kwargs):
        file_path = f'{func.__name__}.json'
        data = []

        if exists(file_path):
            with open(file_path, 'r', encoding='utf-8') as json_file:
                data = json.load(json_file)

        result = func(*args, **kwargs)
        cur_data = {
            'args': args,
            **kwargs,
            'result': result
        }
        data.append(cur_data)
        with open(file_path, 'w', encoding='utf-8') as json_file:
            json.dump(data, json_file, indent=2, ensure_ascii=False)

        return result

    return wrapper


@add_param_to_json
def sum_nums(*args, **kwargs) -> int:
    return sum(args)


@add_param_to_json
def concat_str(*args, **kwargs) -> str:
    return ''.join(args)


if __name__ == '__main__':
    sum_nums(1, 8, 5, a=2, b=10, c=0)
    concat_str('sd', 'fgfd', 'dfds', word='hello', word2='bye')
